{
  "$ref": "#/definitions/RouteEntity",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "BBox": {
      "anyOf": [
        {
          "items": {
            "type": "number"
          },
          "maxItems": 4,
          "minItems": 4,
          "type": "array"
        },
        {
          "items": {
            "type": "number"
          },
          "maxItems": 6,
          "minItems": 6,
          "type": "array"
        }
      ],
      "description": "Bounding box https://tools.ietf.org/html/rfc7946#section-5"
    },
    "LineString": {
      "additionalProperties": false,
      "description": "LineString geometry object. https://tools.ietf.org/html/rfc7946#section-3.1.4",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "coordinates": {
          "items": {
            "$ref": "#/definitions/Position"
          },
          "type": "array"
        },
        "type": {
          "const": "LineString",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "coordinates",
        "type"
      ],
      "type": "object"
    },
    "NoteGeoPoint": {
      "additionalProperties": false,
      "description": "NoteGeoPoint is an extension of GeoJSON Point Feature representing a note location.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "geometry": {
          "$ref": "#/definitions/Point",
          "description": "The feature's geometry"
        },
        "id": {
          "description": "A value that uniquely identifies this feature in a https://tools.ietf.org/html/rfc7946#section-3.2.",
          "type": [
            "string",
            "number"
          ]
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "content": {
                  "type": "string"
                },
                "type": {
                  "const": "Note",
                  "type": "string"
                }
              },
              "required": [
                "content",
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "description": "Properties associated with this feature."
        },
        "type": {
          "const": "Feature",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "geometry",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "PhotoGeoPoint": {
      "additionalProperties": false,
      "description": "PhotoGeoPoint is an extension of GeoJSON Point Feature representing a photo location.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "geometry": {
          "$ref": "#/definitions/Point",
          "description": "The feature's geometry"
        },
        "id": {
          "description": "A value that uniquely identifies this feature in a https://tools.ietf.org/html/rfc7946#section-3.2.",
          "type": [
            "string",
            "number"
          ]
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "filePath": {
                  "type": "string"
                },
                "type": {
                  "const": "Photo",
                  "type": "string"
                }
              },
              "required": [
                "filePath",
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            },
            {
              "additionalProperties": false,
              "properties": {
                "url": {
                  "type": "string"
                }
              },
              "required": [
                "url"
              ],
              "type": "object"
            }
          ],
          "description": "Properties associated with this feature."
        },
        "type": {
          "const": "Feature",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "geometry",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "Point": {
      "additionalProperties": false,
      "description": "Point geometry object. https://tools.ietf.org/html/rfc7946#section-3.1.2",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "coordinates": {
          "$ref": "#/definitions/Position"
        },
        "type": {
          "const": "Point",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "coordinates",
        "type"
      ],
      "type": "object"
    },
    "Position": {
      "description": "A Position is an array of coordinates. https://tools.ietf.org/html/rfc7946#section-3.1.1 Array should contain between two and three elements. The previous GeoJSON specification allowed more elements (e.g., which could be used to represent M values), but the current specification only allows X, Y, and (optionally) Z to be defined.\n\nNote: the type will not be narrowed down to `[number, number] | [number, number, number]` due to marginal benefits and the large impact of breaking change.\n\nSee previous discussions on the type narrowing:\n-  {@link  https://github.com/DefinitelyTyped/DefinitelyTyped/pull/21590 Nov 2017 } \n-  {@link  https://github.com/DefinitelyTyped/DefinitelyTyped/discussions/67773 Dec 2023 } \n-  {@link  https://github.com/DefinitelyTyped/DefinitelyTyped/discussions/71441 Dec 2024 } \n\nOne can use a  {@link  https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates user-defined type guard that returns a type predicate }  to determine if a position is a 2D or 3D position.",
      "items": {
        "type": "number"
      },
      "type": "array"
    },
    "RouteData": {
      "additionalProperties": false,
      "description": "RouteData is a dictionary of GeoJSON FeatureCollections representing the different data types associated with a route, expressed as a GeoJSON FeatureCollections.",
      "properties": {
        "notes": {
          "$ref": "#/definitions/RouteNotes"
        },
        "photos": {
          "$ref": "#/definitions/RoutePhotos"
        },
        "route": {
          "$ref": "#/definitions/RoutePaths"
        },
        "sensors": {
          "$ref": "#/definitions/RouteSensorDatas"
        }
      },
      "required": [
        "route",
        "notes",
        "photos",
        "sensors"
      ],
      "type": "object"
    },
    "RouteEntity": {
      "additionalProperties": false,
      "description": "RouteEntity is the direct representation of a route in the database, including its identifier and visibility status.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox"
        },
        "color": {
          "type": "string"
        },
        "createdAt": {
          "format": "date-time",
          "type": "string"
        },
        "date": {
          "format": "date-time",
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "distance": {
          "type": "number"
        },
        "elevation": {
          "additionalProperties": false,
          "properties": {
            "negative": {
              "type": "number"
            },
            "positive": {
              "type": "number"
            }
          },
          "required": [
            "positive",
            "negative"
          ],
          "type": "object"
        },
        "id": {
          "type": "number"
        },
        "name": {
          "type": "string"
        },
        "originalFitData": {
          "anyOf": [
            {
              "additionalProperties": false,
              "properties": {
                "byteLength": {
                  "type": "number"
                }
              },
              "required": [
                "byteLength"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "originalGPXData": {
          "type": [
            "string",
            "null"
          ]
        },
        "originalParsedFitData": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "routeData": {
          "$ref": "#/definitions/RouteData"
        },
        "tags": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "updatedAt": {
          "format": "date-time",
          "type": "string"
        },
        "visible": {
          "type": "boolean"
        }
      },
      "required": [
        "bbox",
        "color",
        "createdAt",
        "date",
        "description",
        "distance",
        "elevation",
        "id",
        "name",
        "routeData",
        "tags",
        "updatedAt",
        "visible"
      ],
      "type": "object"
    },
    "RouteNotes": {
      "additionalProperties": false,
      "description": "RouteNotes is an extension of GeoJSON FeatureCollection representing a collection of note points.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "features": {
          "items": {
            "$ref": "#/definitions/NoteGeoPoint"
          },
          "type": "array"
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "Route Notes",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "const": "FeatureCollection",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "features",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "RoutePaths": {
      "additionalProperties": false,
      "description": "RoutePaths is an extension of GeoJSON FeatureCollection representing a collection of track paths.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "features": {
          "items": {
            "$ref": "#/definitions/TrackGeoPath"
          },
          "type": "array"
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "Route Paths",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "const": "FeatureCollection",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "features",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "RoutePhotos": {
      "additionalProperties": false,
      "description": "RoutePhotos is an extension of GeoJSON FeatureCollection representing a collection of photo points.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "features": {
          "items": {
            "$ref": "#/definitions/PhotoGeoPoint"
          },
          "type": "array"
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "Route Photos",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "const": "FeatureCollection",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "features",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "RouteSensorDatas": {
      "additionalProperties": false,
      "description": "SensorDatas is an extension of GeoJSON FeatureCollection representing a collection of tracker data points.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "features": {
          "items": {
            "$ref": "#/definitions/TrackerDataGeoPoint"
          },
          "type": "array"
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "Sensors Datas",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "const": "FeatureCollection",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "features",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "TrackGeoPath": {
      "additionalProperties": false,
      "description": "TrackGeoPath is an extension of GeoJSON LineString Feature representing a track path.",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "geometry": {
          "$ref": "#/definitions/LineString",
          "description": "The feature's geometry"
        },
        "id": {
          "description": "A value that uniquely identifies this feature in a https://tools.ietf.org/html/rfc7946#section-3.2.",
          "type": [
            "string",
            "number"
          ]
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "Track Path",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "description": "Properties associated with this feature."
        },
        "type": {
          "const": "Feature",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "geometry",
        "properties",
        "type"
      ],
      "type": "object"
    },
    "TrackerDataGeoPoint": {
      "additionalProperties": false,
      "description": "TrackerDataGeoPoint is an extension of GeoJSON Point Feature representing a tracker geolocalized data frame",
      "properties": {
        "bbox": {
          "$ref": "#/definitions/BBox",
          "description": "Bounding box of the coordinate range of the object's Geometries, Features, or Feature Collections. The value of the bbox member is an array of length 2*n where n is the number of dimensions represented in the contained geometries, with all axes of the most southwesterly point followed by all axes of the more northeasterly point. The axes order of a bbox follows the axes order of geometries. https://tools.ietf.org/html/rfc7946#section-5"
        },
        "geometry": {
          "$ref": "#/definitions/Point",
          "description": "The feature's geometry"
        },
        "id": {
          "description": "A value that uniquely identifies this feature in a https://tools.ietf.org/html/rfc7946#section-3.2.",
          "type": [
            "string",
            "number"
          ]
        },
        "properties": {
          "anyOf": [
            {
              "properties": {
                "type": {
                  "const": "Tracker Data",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "description": "Properties associated with this feature."
        },
        "type": {
          "const": "Feature",
          "description": "Specifies the type of GeoJSON object.",
          "type": "string"
        }
      },
      "required": [
        "geometry",
        "properties",
        "type"
      ],
      "type": "object"
    }
  }
}